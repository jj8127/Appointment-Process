# 게시판 기능 요구사항 (Board Requirements)

본 문서는 게시판 기능 구현을 위한 범위, 사용자 시나리오, 권한 매트릭스, 데이터 정책을 정리한다.

---

## 1) 기능 범위 (Scope)

### 1.1 게시글
- 카테고리: 공지 / 교육 / 일반 / 서류 (관리자만 추가/편집)
- 게시글 필드: 제목, 내용, 카테고리
- 상단 고정(핀): 전체 고정 지원
- 수정 이력: "수정됨" 라벨 + 마지막 수정 시간 표시
- 삭제: 완전 삭제(스토리지 첨부도 즉시 삭제)

### 1.2 댓글/대댓글
- 댓글 및 대댓글 작성 지원
- 본인 댓글에 한해 수정/삭제 가능
- 댓글 좋아요: 사용자당 1개(토글), 좋아요 알림 포함

### 1.3 반응 (게시글)
- 4종 반응 유지(좋아요/하트/확인/웃음)
- 사용자당 1개 반응만 가능(토글)
- 게시글 반응 알림 제외

### 1.4 첨부파일
- 이미지/문서 첨부 지원
- 이미지 썸네일 미리보기만 제공(현재 UI 유지)
- 제한: 이미지 10MB/파일 50MB, 총 100MB, 최대 5개

### 1.5 검색/정렬
- 검색 범위: 제목 + 본문 + 작성자
- 정렬 기준(확정):
  - 작성순: 최초 작성 시간 기준(수정/댓글 영향 없음)
  - 최신순: 마지막 업데이트 기준(수정/댓글 영향 가능)
  - 댓글순/반응순 (옵션 제공)

### 1.6 알림
- 새 글 알림: 전체 사용자
- 댓글/대댓글 알림: 게시글 작성자 + 해당 댓글 스레드 참여자
- 댓글 좋아요 알림: 포함

---

## 2) 사용자 시나리오 (User Scenarios)

### 2.1 FC (일반 사용자)
1) 게시판 진입 → 카테고리/검색으로 게시글 탐색
2) 게시글 상세 확인 → 반응(4종 중 1개) 남김
3) 댓글/대댓글 작성 및 본인 댓글 수정/삭제
4) 댓글 좋아요(토글) 및 첨부 다운로드

### 2.2 Manager
1) 게시글 작성(카테고리 선택) 및 등록
2) 본인 게시글 수정/삭제
3) 댓글/대댓글 작성 및 본인 댓글 수정/삭제

### 2.3 Admin
1) 게시글 작성/수정/삭제 및 상단 고정(핀)
2) 카테고리 추가/편집/관리
3) 댓글/대댓글 작성 및 본인 댓글 수정/삭제

---

## 3) 권한 매트릭스 (Permission Matrix)

| 기능 | FC | Manager | Admin |
|---|---|---|---|
| 게시글 작성 | 불가 | 가능 | 가능 |
| 게시글 수정 | 불가 | 본인만 | 가능 |
| 게시글 삭제 | 불가 | 본인만 | 가능 |
| 카테고리 관리 | 불가 | 불가 | 가능 |
| 상단 고정(핀) | 불가 | 불가 | 가능 |
| 댓글/대댓글 작성 | 가능 | 가능 | 가능 |
| 댓글/대댓글 수정/삭제 | 본인만 | 본인만 | 본인만 |
| 댓글 좋아요 | 가능 | 가능 | 가능 |
| 게시글 반응(4종) | 가능(1개) | 가능(1개) | 가능(1개) |
| 첨부 업로드 | 불가 | 가능 | 가능 |
| 첨부 다운로드 | 가능 | 가능 | 가능 |

---

## 4) 데이터 정책 (Data Policies)

### 4.1 삭제 정책
- 게시글/댓글: 완전 삭제
- 첨부파일: 게시글 삭제 시 스토리지에서도 즉시 삭제

### 4.2 수정 이력
- "수정됨" 라벨 표시
- 마지막 수정 시간 표시

### 4.3 알림 정책
- 새 글: 전체 사용자에게 발송
- 댓글/대댓글: 게시글 작성자 + 해당 댓글 스레드 참여자
- 댓글 좋아요: 알림 포함
- 게시글 반응: 알림 제외

---

## 5) 비범위 (Out of Scope)
- 카테고리 구독 기능
- 게시글 신고/차단 기능
- 게시글 반응 알림

---

## 6) 구현 참고
- 기존 UI는 유지하며 기능만 연결
- 모바일/관리자/웹 모두 동일한 권한 규칙 적용
